###########################
# Italian Events
###########################

add_namespace = italy_fpw

# Prussia Alliance
country_event = {
	id = italy_fpw.1
	title = italy_fpw.1.t
	desc = italy_fpw.1.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	option = {
		name = italy_fpw.1.a #yes

		give_guarantee = ITA
		ITA = { give_guarantee = PRS }
	}
	option = {
		name = italy_fpw.1.b #no
		
		ITA = { 
			add_opinion_modifier = {
				target = ITA
				modifier = refused_help
			}
		}
	}
}

# venice for support
country_event = {
	id = italy_fpw.2
	title = italy_fpw.2.t
	desc = italy_fpw.2.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	option = {
		name = italy_fpw.2.a #yes

		ITA = {
			give_guarantee = AUS
			transfer_state = 160
		}
	}
	option = {
		name = italy_fpw.2.b #no
	}
}

# conquer venice
country_event = {
	id = italy_fpw.3
	title = italy_fpw.3.t
	desc = italy_fpw.3.d
	picture = GFX_report_event_generic_handshake
	
	fire_only_once = yes
	
	option = {
		name = italy_fpw.3.a

		activate_mission = conquer_venice
	}
	option = {
		name = italy_fpw.3.b

		activate_mission = conquer_venice
		complete_national_focus = ITA_the_war_with_austria
	}
}

# resignation of leader
country_event = {
	id = italy_fpw.4
	title = italy_fpw.4.t
	desc = italy_fpw.4.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	option = {
		name = italy_fpw.4.a
		retire_country_leader = yes
		promote_character = ITA_bettino_ricasoli
	}
}

# carve up ottomans start
country_event = {
	id = italy_fpw.5
	title = italy_fpw.5.t
	desc = italy_fpw.5.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# with Russia
	option = {
		name = italy_fpw.5.a
		
		ai_chance = { 
			factor = 10
		}
		add_stability = 0.05
		
		SOV = { 
			country_event = { 
				id = italy_fpw.6 
				hours = 4
			}
		}
		hidden_effect = {
			
			country_event = { 
				id = italy_fpw.13
				days = 20
			}
		}
		
	}
	# only minor powers
	option = {
		name = italy_fpw.5.b
		
		ai_chance = { 
			factor = 3
		}
		add_political_power = 25
		#custom_effect_tooltip = italy_fpw_only_minor_powers
		
		hidden_effect = {
			
			country_event = { 
				id = italy_fpw.13
				days = 20
			}
		}
	}
	# Italy stands alone!
	option = {
		name = italy_fpw.5.c
		
		ai_chance = { 
			factor = 1
		}
		
		add_war_support = 0.05
		
		hidden_effect = {
			
		}
		
	}
}
# for russia # italy invites
country_event = {
	id = italy_fpw.6
	title = italy_fpw.6.t
	desc = italy_fpw.6.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# Yes
	option = {
		name = italy_fpw.6.a
		
		ai_chance = { 
			factor = 1 
			modifier = {
				has_opinion = {	
					target = ITA
					value > 50
				}
				factor = 10
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.7 
					hours = 4
				}
			}
			if = {
				limit = { 
					ITA = { is_faction_leader = yes }
				}
				ITA = { add_to_faction = SOV }
			}
			
		}
		
	}
	# No
	option = {
		name = italy_fpw.6.b
		
		ai_chance = { 
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 2
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.8 
					hours = 4
				}
			}
		}
	}
}
# russia agrees
country_event = {
	id = italy_fpw.7
	title = italy_fpw.7.t
	desc = italy_fpw.7.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.7.a
		
		add_political_power = 25
		hidden_effect = {
			set_country_flag = joined_italy_ottomans
		}
		
	}
}
# russia rejects
country_event = {
	id = italy_fpw.8
	title = italy_fpw.8.t
	desc = italy_fpw.8.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.8.a
		
		add_stability = -0.05
		hidden_effect = {
			
		}
		
	}
}
# serbia revolts
country_event = {
	id = italy_fpw.9
	title = italy_fpw.9.t
	desc = italy_fpw.9.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.9.a
		
		add_stability = -0.01
		add_war_support = -0.01
		
		TUR = {
			end_puppet = SER
			declare_war_on = {
				target = SER
				type = annex_everything
			}
		}
		
		hidden_effect = {
			
		}
		
	}
}
# romania revolts
country_event = {
	id = italy_fpw.10
	title = italy_fpw.10.t
	desc = italy_fpw.10.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.9.a
		
		add_stability = -0.01
		add_war_support = -0.01
		
		TUR = {
			end_puppet = ROM
			declare_war_on = {
				target = ROM
				type = annex_everything
			}
		}
		
		hidden_effect = {
			
		}
		
	}
}
# annexed egypt revolts 
country_event = {
	id = italy_fpw.11
	title = italy_fpw.11.t
	desc = italy_fpw.11.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.9.a
		
		add_stability = -0.01
		add_war_support = -0.01
		
		TUR = {
			release = EGY
			declare_war_on = {
				target = EGY
				type = annex_everything
			}
		}
		
		hidden_effect = {
			#EGY = {
			#	load_oob = egypt_revolt
			#}
		}
		
	}
}
# puppet egypt revolts 
country_event = {
	id = italy_fpw.12
	title = italy_fpw.11.t
	desc = italy_fpw.11.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.9.a
		
		add_stability = -0.01
		add_war_support = -0.01
		
		TUR = {
			end_puppet = EGY
			declare_war_on = {
				target = EGY
				type = annex_everything
			}
		}
		
		hidden_effect = {
			
		}
		
	}
}
# support vassals
country_event = {
	id = italy_fpw.13
	title = italy_fpw.13.t
	desc = italy_fpw.13.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# only balkan ones
	option = {
		name = italy_fpw.13.a
		
		ai_chance = { 
			factor = 5
		}
		
		hidden_effect = {
			set_country_flag = supported_vassals
		}
		
	}
	# egypt too
	option = {
		name = italy_fpw.13.b
		
		ai_chance = { 
			factor = 10
		}
		
		hidden_effect = {
			set_country_flag = supported_vassals
			set_country_flag = supported_egypt
		}
	}
}



# carve up austria start
country_event = {
	id = italy_fpw.14
	title = italy_fpw.14.t
	desc = italy_fpw.14.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# with Russia and Prussia
	option = {
		name = italy_fpw.14.a
		
		ai_chance = { 
			factor = 10
		}
		add_stability = 0.05
		
		SOV = { 
			country_event = { 
				id = italy_fpw.15 
				hours = 4
			}
		}
		PRS = { 
			country_event = { 
				id = italy_fpw.16 
				hours = 4
			}
		}
		hidden_effect = {
			
			set_country_flag = italy_supported_hungary
		}
		
	}
	# only hungary
	option = {
		name = italy_fpw.14.b
		
		ai_chance = { 
			factor = 3
		}
		add_political_power = 25
		
		hidden_effect = {
			
			set_country_flag = italy_supported_hungary
		}
	}
	# Italy stands alone!
	option = {
		name = italy_fpw.5.c
		
		ai_chance = { 
			factor = 1
		}
		
		add_war_support = 0.05
		
		hidden_effect = {
			
		}
		
	}
}
# invite for russia
country_event = {
	id = italy_fpw.15
	title = italy_fpw.15.t
	desc = italy_fpw.15.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# Yes
	option = {
		name = italy_fpw.15.a
		
		ai_chance = { 
			factor = 1 
			modifier = {
				has_opinion = {	
					target = ITA
					value > 50
				}
				factor = 10
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.7 
					hours = 4
				}
			}
			set_country_flag = joined_italy_austria
		}
		
	}
	# No
	option = {
		name = italy_fpw.6.b
		
		ai_chance = { 
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 2
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.8 
					hours = 4
				}
			}
		}
	}
}
# invite for prussia
country_event = {
	id = italy_fpw.16
	title = italy_fpw.15.t
	desc = italy_fpw.16.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	
	# Yes
	option = {
		name = italy_fpw.6.a
		
		ai_chance = { 
			factor = 1 
			modifier = {
				has_opinion = {	
					target = ITA
					value > 50
				}
				factor = 10
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.17 
					hours = 4
				}
			}
			set_country_flag = joined_italy_austria
		}
		
	}
	# No
	option = {
		name = italy_fpw.6.b
		
		ai_chance = { 
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 2
			}
		}
		
		hidden_effect = {
			ITA = { 
				country_event = { 
					id = italy_fpw.18 
					hours = 4
				}
			}
		}
	}
}
# prussia agrees
country_event = {
	id = italy_fpw.17
	title = italy_fpw.17.t
	desc = italy_fpw.17.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.7.a
		
		add_political_power = 25
		hidden_effect = {
			
		}
		
	}
}
# prussia rejects
country_event = {
	id = italy_fpw.18
	title = italy_fpw.18.t
	desc = italy_fpw.18.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.8.a
		
		add_stability = -0.05
		hidden_effect = {
			
		}
		
	}
}
# hungary revolts
country_event = {
	id = italy_fpw.19
	title = italy_fpw.19.t
	desc = italy_fpw.19.d
	picture = GFX_report_event_generic_handshake
	
	is_triggered_only = yes
	option = {
		name = italy_fpw.9.a
		
		add_stability = -0.01
		add_war_support = -0.01
		
		HUN = {
			transfer_state = 43
			transfer_state = 154
			transfer_state = 155
			transfer_state = 664
			transfer_state = 45
			transfer_state = 76
		}
		AUS = {
			declare_war_on = {
				target = HUN
				type = annex_everything
			}
		}
		
		hidden_effect = {
			#HUN = {
			#	load_oob = hungary_revolt
			#}
		}
		
	}
}









